# 01_pixel
  
ここではデジタル画像の仕組みについて簡単に説明します。  
  
---
  
## デジタル画像の仕組み
  
デジタル画像は小さな点から構成されています。  
その小さい点のことを **画素(ピクセル)** といいます。  
  
---

### 画素(ピクセル)とは？

[wikipedia(ピクセル)](https://ja.wikipedia.org/wiki/%E3%83%94%E3%82%AF%E3%82%BB%E3%83%AB)では  
>画素（がそ）とは、コンピュータで画像を扱うときの色情報 (色調や階調) を持つ最小単位、最小要素。  

と定義されています。  
  
つまり、デジタル画像を構成する色情報を持っためっっちゃ小さい点です。  
画素数が多ければ画像をより細かいところまで写すことができます。  
余談ですが、画素の密度のことを解像度といいます。  
  
デジタル画像は小さな点(ピクセル)が集まって構成されているので **クソ細かいドット絵** といえばわかりやすいかもしれません。  
  
---
  
### 画素(ピクセル)の色情報  

今回の勉強会で用いているOpenCVでは主に  
- BGR色空間
- HSV色空間
などがよく利用されています。  
  
ここで上記2つの色空間について簡単に説明します。  
  
1. BGR色空間
光の三原色であるB(Blue: 青)、G(Green: 緑)、R(Red: 赤)の3つのチャンネルからなる色空間です。  
それぞれのピクセルに色情報が(B, G, R)の順で格納されています。  
よく耳にする(R, G, B)とは順番が違うので注意が必要です。  
それぞれの色情報が0 - 256の段階で指定されています。  
  
<img src=https://github.com/Dansato1203/images/blob/master/VisionTutorial-python/403a31fbeb20a78b22afc654d53b6da0.jpg width=700px>  
  
2. HSV色空間
Hue(色相), Saturation(彩度), Value(明度)で表される色空間です。  
- Hue(色相)
色の種類(赤、青、緑とか)を指す。  
一般的には0 - 360の範囲で指定される。  
**OpenCVでは <span style="color: red; ">0 - 179</span> の1/2の範囲で表されるので注意。**  
  
<img src=https://github.com/Dansato1203/images/blob/master/VisionTutorial-python/HSV_hue.png width=700px>  
  
- Saturarion(彩度)
色の鮮やかさの度合いを指す。彩度が高いほど鮮やかな色になる。  
一般的には0 - 100の範囲で指定される。  
OpenCVでは **0 - 255** の範囲で表される。  
  
<img src=https://github.com/Dansato1203/images/blob/master/VisionTutorial-python/HSV_saturation.png width=700px>  
  
- Value(明度)  
色の明るさの度合いを指す。明度が高いほど明るく白っぽく、低いほど暗く黒っぽくなる。  
一般的には0 - 100の班にで指定される。  
OpenCVでは **0 - 255** の範囲で表される。  
  
<img src=https://github.com/Dansato1203/images/blob/master/VisionTutorial-python/HSV_value.png width=700px>  
(上記の画像はMAXが原色のようになっていますが、実際はもっと白っぽくなります。)  
  
---
  
## 実際に確認してみよう。

このディレクトリ内に上記のことを確認できるプログラムをいくつか用意しているので、実際に確認してみましょう。  
  
### 1. デジタル画像が画素から構成されていることを確認する。

任意の画像とそれと同じ大きさのブランク画像を生成し、1ピクセルずつ表示するプログラムを作成しました。  
1. プログラムを確認してみましょう。
```sh
vi pixel.py
```
  
2. 実行してみましょう。  
```sh
./pixel.py
```
  
ブランク画像をクリックして何らかのキーを押すと1ピクセルずつ描画されます。  
  
---
  
### 2. 画素について確認してみる。  
  
任意の画像の画素についての情報が表示されるプログラムを作成しました。  
  
1. プログラムを確認してみましょう。  
```sh
vi picture_size.py
```
  
2. 実行してみましょう。  
```sh
./picture_size.py
```

実行結果で表示されているものには以下が対応しています。  
- 画像の横幅  
⇢ 画像の横方向(x軸方向)のピクセル数  
- 画像の高さ  
⇢ 画像の縦方向(y軸方向)のピクセル数  
- チャンネル数  
⇢ BGR画像なら、上記の通りB、G、Rの3つのチャンネルを持っています。  
- 画素数  
⇢ 横方向のピクセル数 × 縦方向のピクセル数です。表示されている画像はこの数のピクセルが集まって構成されています。  
  
画像の大きさは画素の数によって決まることがわかりましたか？  
  
---
  
### 3. 画素の持つ色情報について確認してみる。  

任意の画素の色情報を見ることができるプログラムを作成しました。  
  
1. プログラムを確認してみましょう。  
```sh
vi color_of_pixel.py
```
  
2. 実行してみましょう。  
```sh
./color_of_pixel.py
```
  
任意のピクセルの座標を入力すると、そのピクセルの色情報を返します。  
例えば、[y, x] を [100, 200] と指定すると[88, 148, 254]と表示されます。  
この値は[B, G, R]に対応していて、Bの値が88、Gも値が148、Rの値が254であることを示しています。  
  

  
